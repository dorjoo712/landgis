webpackJsonp([10],{"7zck":function(t,e){},IcnI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mvHQ"),o=n.n(r),a=n("7+uW"),c=n("NYxO");a.default.use(c.a),e.default=new c.a.Store({state:{cartProducts:[],isCart:!1,transaction:{}},getters:{getProductsInCart:function(t){return t.cartProducts},getTransaction:function(t){return t.transaction}},actions:{addProduct:function(t,e){t.commit("ADD_PRODUCT",e),t.commit("IS_CART",!0)},setCart:function(t,e){t.commit("IS_CART",e)},setTransaction:function(t,e){t.commit("SET_TRANSACTION",e)},removeProduct:function(t,e){t.commit("REMOVE_PRODUCT",e)},setProducts:function(t,e){t.commit("SET_CART_PRODUCTS",e)}},mutations:{INCREMENT_QUANTITY:function(t,e){var n=t.cartProducts.map(function(t){return t.id}).indexOf(e);t.cartProducts[n].quantity++,localStorage.setItem("giz-cart",o()(t.cartProducts))},DECREMENT_QUANTITY:function(t,e){var n=t.cartProducts.map(function(t){return t.id}).indexOf(e);t.cartProducts[n].quantity--,localStorage.setItem("giz-cart",o()(t.cartProducts))},ADD_PRODUCT:function(t,e){e.price=parseFloat(e.price),e.info_price=parseFloat(e.info_price),-1===t.cartProducts.map(function(t){return t.pid}).indexOf(e.pid)&&(t.cartProducts.push(e),localStorage.setItem("giz-cart",o()(t.cartProducts)))},REMOVE_PRODUCT:function(t,e){for(var n=JSON.parse(localStorage.getItem("giz-cart")),r=0;r<n.length;r++)n[r].pid===e.pid&&n.splice(r,1);localStorage.setItem("giz-cart",o()(n)),t.cartProducts=n},IS_CART:function(t,e){t.isCart=e},SET_CART_PRODUCTS:function(t,e){t.cartProducts=[],t.cartProducts=e,localStorage.setItem("giz-cart",o()(e))},SET_TRANSACTION:function(t,e){t.transaction=e,localStorage.setItem("giz-transaction",o()(t.transaction))}}})},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={},o=n("fZjL"),a=n.n(o),c=n("7+uW"),i={mounted:function(){this.getCartProducts()},watch:{"$route.path":function(){console.log("route"),this.getCartProducts()}},methods:{getCartProducts:function(){var t=JSON.parse(localStorage.getItem("giz-cart"));console.log("products",t),t?this.$store.dispatch("setProducts",t):this.$store.dispatch("setProducts",[]);var e=JSON.parse(localStorage.getItem("giz-transaction"));e?this.$store.dispatch("setTransaction",e):this.$store.dispatch("setTransaction",[])}}},s={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};var u=n("VU/8")(i,s,!1,function(t){n("bjLj")},null,null).exports,l=n("YaEn"),d=n("BO1k"),f=n.n(d),v=n("NYxO");c.default.use(v.a);var m=n("QD23"),p=m.keys();function h(t){var e=m(t);return e.default?e.default:e}function _(t,e){if(1===e.length)return t.modules;var n=e.shift();return t.modules[n]=t.modules[n]||{},t.modules[n].namespaced=!0,t.modules[n].modules=t.modules[n].modules||{},_(t.modules[n],e)}var g=void 0,C={};if(-1!==p.indexOf("./index.js")){var P=h("./index.js");P.commit?g=P:C=P}if(null==g){C.modules=C.modules||{};var x=!0,b=!1,y=void 0;try{for(var k,T=f()(p);!(x=(k=T.next()).done);x=!0){var S=k.value,I=S.replace(/^\.\//,"").replace(/\.js$/,"");if("index"!==I){var O=I.split(/\//),w=_(C,O);w[I=O.pop()]=h(S),w[I].namespaced=!0}}}catch(t){b=!0,y=t}finally{try{!x&&T.return&&T.return()}finally{if(b)throw y}}g=new v.a.Store(C)}var E=g,R=n("3EgV"),$=n.n(R);n("7zck");c.default.use($.a,{iconfont:"md"});var N={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("v-card",{staticClass:"mb-2",attrs:{height:"300"}}),this._v(" "),e("h2",{staticClass:"title mb-2"},[this._v("I'm a text title")])],1)},staticRenderFns:[]},j=n("VU/8")(null,N,!1,null,null,null).exports,D={data:function(){return{items:[{title:"Миний хуудас",action:"account"},{title:"Худалдан авсан цэгүүд",action:"account"},{title:"Нууц үг солих",action:"account"},{title:"Гарах",action:"logout"}]}},computed:{user:function(){var t=localStorage.getItem("user");return"login"==t}},methods:{goto:function(t){"logout"==t.action&&(localStorage.removeItem("user"),this.$router.push("/login"))}}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile ml-3"},[t.user?n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{fab:"",small:"",color:"white"}},r),[n("v-icon",{attrs:{dark:"",color:"green darken-2"}},[t._v("account_circle")])],1)]}}])},[t._v(" "),n("v-list",t._l(t.items,function(e,r){return n("v-list-tile",{key:r,on:{click:function(n){return t.goto(e)}}},[n("v-list-tile-title",[t._v(t._s(e.title))])],1)}),1)],1):n("v-btn",{attrs:{to:"/login",round:"",color:"green--text text--darken-2"}},[n("v-icon",[t._v("account_circle")]),t._v("Нэвтрэх")],1)],1)},staticRenderFns:[]};var A=n("VU/8")(D,U,!1,function(t){n("nVUQ")},null,null).exports,z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{staticClass:"mycart",attrs:{transition:"slide-y-transition",left:"",bottom:"","nudge-top":"-30","allow-overflow":!0,"content-class":"cart-popout elevation-18","close-on-content-click":!1,"max-width":450},model:{value:t.isCart,callback:function(e){t.isCart=e},expression:"isCart"}},[n("v-badge",{attrs:{slot:"activator",color:"red darken-3",right:""},slot:"activator"},[t.countProduct>=0?n("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.countProduct))]):t._e(),t._v(" "),n("v-btn",{staticClass:"ma-0",attrs:{fab:"",small:"",color:"white"}},[n("v-icon",{attrs:{dark:"",color:"green darken-2"}},[t._v("shopping_cart")])],1)],1),t._v(" "),t.products.length>0?n("v-card",[n("v-list",[t._l(t.products,function(e,r){return[n("v-list-tile",{key:r},[n("v-list-tile-action",{staticClass:"justify-center small-action"},[n("v-btn",{attrs:{small:"",icon:""},on:{click:function(n){return t.removeCart(e)}}},[n("v-icon",{attrs:{color:"red",small:""}},[t._v("delete")])],1)],1),t._v(" "),n("v-list-tile-content",{staticStyle:{flex:"1 0 150px"}},[n("v-list-tile-title",{staticClass:"font-weight-medium"},[n("span",[t._v(t._s(e.pid)+" - ")]),t._v(t._s(e.point_name))]),t._v(" "),e.info?n("v-list-tile-sub-title",[n("span",[t._v("Хувийн хэрэг")])]):t._e()],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"text-xs-right"},[t._v(t._s(t._f("currency")(e.price,"",0))+" ₮")]),t._v(" "),e.info?n("v-list-tile-sub-title",{staticClass:"text-xs-right"},[n("span",[t._v(t._s(t._f("currency")(e.info_price,"",0))+" ₮")])]):t._e()],1)],1)]})],2),t._v(" "),n("v-divider"),t._v(" "),n("v-layout",{attrs:{wrap:"","px-3":"","py-2":"","align-center":""}},[n("v-flex",{attrs:{xs12:"","text-xs-right":"","mb-3":""}},[n("span",{staticClass:"grey--text text--darken-1 font-weight-medium"},[t._v("Нийт дүн:")]),t._v(" "),n("span",{staticClass:"red--text title text--darken-1 font-weight-medium"},[t._v(t._s(t._f("currency")(t.totalPayment,"",0))+" ₮")])]),t._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-btn",{attrs:{round:"",block:"",large:"",color:"green darken-2",dark:""},on:{click:t.gotoCart}},[t._v("Худалдан авах "),n("v-icon",{attrs:{right:""}},[t._v("arrow_forward")])],1)],1)],1)],1):n("v-card",{attrs:{color:"white"}},[n("v-card-text",[n("v-alert",{staticClass:"my-3",attrs:{value:!0,type:"info"}},[t._v("Таны сагс хоосон байна.")])],1)],1)],1)},staticRenderFns:[]};var F=n("VU/8")({computed:{isCart:{get:function(){return this.$store.state.isCart},set:function(t){this.$store.dispatch("setCart",t)}},countProduct:function(){return this.$store.state.cartProducts.length},products:function(){return this.$store.state.cartProducts},isDisabled:function(){return 0==this.countProduct},totalPayment:function(){var t=this;return this.products.reduce(function(e,n){return e+t.changePrice(n)},0)}},methods:{removeCart:function(t){this.$store.dispatch("removeProduct",t)},gotoCart:function(){this.$router.push("/cart")},changePrice:function(t){var e=t.price;return t.info&&(e+=t.info_price),e}}},z,!1,function(t){n("rsIf")},null,null).exports;c.default.component("base-card",j),c.default.component("cart",F),c.default.component("user-profile",A);var V=/(\d{3})(?=\d)/g;c.default.filter("currency",function(t,e,n){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=null!=e?e:"$",n=null!=n?n:2;var r=Math.abs(t).toFixed(n),o=n?r.slice(0,-1-n):r,a=o.length%3,c=a>0?o.slice(0,a)+(o.length>3?",":""):"",i=n?r.slice(-1-n):"";return(t<0?"-":"")+c+o.slice(a).replace(V,"$1,")+i}),n.d(e,"router",function(){return l.a}),n.d(e,"store",function(){return E}),c.default.config.productionTip=!1,a()(r).forEach(function(t){c.default.filter(t,r[t])}),new c.default({router:l.a,store:E,render:function(t){return t(u)}}).$mount("#app")},QD23:function(t,e,n){var r={"./index.js":"IcnI"};function o(t){return n(a(t))}function a(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}o.keys=function(){return Object.keys(r)},o.resolve=a,t.exports=o,o.id="QD23"},YaEn:function(t,e,n){"use strict";(function(t){var r=n("7+uW"),o=n("/ocq");r.default.use(o.a),e.a=new o.a({base:t,routes:[{path:"/",name:"map",component:function(){return n.e(1).then(n.bind(null,"Jcjf"))}},{path:"/login",name:"login",component:function(){return n.e(5).then(n.bind(null,"8Ojl"))}},{path:"/old",name:"map",component:function(){return n.e(2).then(n.bind(null,"h2hv"))}},{path:"/",component:function(){return n.e(7).then(n.bind(null,"lfHO"))},children:[{path:"cart",name:"index",component:function(){return Promise.all([n.e(4),n.e(0)]).then(n.bind(null,"qJko"))}},{path:"cart/payment",name:"payment",component:function(){return Promise.all([n.e(6),n.e(0)]).then(n.bind(null,"+k4w"))}},{path:"cart/checkout",name:"checkout",component:function(){return Promise.all([n.e(3),n.e(0)]).then(n.bind(null,"nZco"))}},{path:"cart/success",name:"success",component:function(){return n.e(8).then(n.bind(null,"mMEL"))}}]}]})}).call(e,"/")},bjLj:function(t,e){},nVUQ:function(t,e){},rsIf:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.80465458b68068b20f7d.js.map